'use client'

import {useState, useEffect, useRef} from 'react'

type SchemaSVGProps = {
  platform: 'desktop' | 'mobile'
  onMouseEnter?: (id: string) => void
  onMouseLeave?: () => void
  onMobileTouch?: (id: string) => void
}

export default function SchemaSVG({platform, onMouseEnter, onMouseLeave, onMobileTouch}: SchemaSVGProps) {
  const isDesktop = platform === 'desktop'
  const isMobile = platform === 'mobile'

  const svgRef = useRef<SVGSVGElement>(null)
  const [colorArea, setColorArea] = useState('#FFF')
  const [visibleCount, setVisibleCount] = useState(0)

  useEffect(() => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting && visibleCount < 2) {
          setColorArea('#E8FDE0')
          setVisibleCount((prevCount) => prevCount + 1)
          setTimeout(() => setColorArea('#FFF'), 1000)
        }
      })
    })

    const currentSvgRef = svgRef.current
    if (currentSvgRef) observer.observe(currentSvgRef)

    return () => {
      if (currentSvgRef) observer.unobserve(currentSvgRef)
    }
  }, [visibleCount])

  return (
    <svg ref={svgRef} className="w-full" viewBox="0 0 814 614" fill="none" xmlns="http://www.w3.org/2000/svg">
      <g id="fields">
        <rect x="423.5" y="1.5" width="389" height="611" rx="13.5" fill="#fff" />
        <rect x="423.5" y="1.5" width="389" height="611" rx="13.5" stroke="#454545" strokeWidth="3" />
        <g id="field1" className="group" {...(isDesktop && {onMouseEnter: () => onMouseEnter?.('field_one'), onMouseLeave})} {...(isMobile && {onClick: () => onMobileTouch?.('field_one')})}>
          <rect x="443.5" y="24" width="349" height="172" rx="8.5" fill={colorArea} className="HOVERABLE_AREA" />
          <rect x="443.5" y="24" width="349" height="172" rx="8.5" stroke="#454545" strokeWidth="3" />
          <path id="Rectangle 85" fill="#454545" d="M617 22.5h3v175h-3z" />
          <circle id="Ellipse 1" cx="618" cy="110.5" r="48.5" stroke="#454545" strokeWidth="3" />
          <path id="Ellipse 2" d="M443.5 62.023a48.498 48.498 0 0 1 47 48.477 48.512 48.512 0 0 1-14.205 34.295 48.512 48.512 0 0 1-32.795 14.182V62.023Z" className="HOVERABLE_FIELD_ZONE" stroke="#454545" strokeWidth="3" />
          <path id="Ellipse 3" d="M792.5 158.977a48.512 48.512 0 0 1-32.795-14.182A48.512 48.512 0 0 1 745.5 110.5a48.488 48.488 0 0 1 14.205-34.295A48.51 48.51 0 0 1 792.5 62.023v96.954Z" className="HOVERABLE_FIELD_ZONE" stroke="#454545" strokeWidth="3" />
        </g>
        <g id="field2" className="group" {...(isDesktop && {onMouseEnter: () => onMouseEnter?.('field_two'), onMouseLeave})} {...(isMobile && {onClick: () => onMobileTouch?.('field_two')})}>
          <rect x="443.5" y="221" width="349" height="172" rx="8.5" fill={colorArea} className="HOVERABLE_AREA" />
          <rect x="443.5" y="221" width="349" height="172" rx="8.5" stroke="#454545" strokeWidth="3" />
          <path id="Rectangle 85_2" fill="#454545" d="M617 219.5h3v175h-3z" />
          <circle id="Ellipse 1_2" cx="618" cy="307.5" r="48.5" stroke="#454545" strokeWidth="3" />
          <path id="Ellipse 2_2" d="M443.5 259.023a48.512 48.512 0 0 1 32.795 14.182A48.512 48.512 0 0 1 490.5 307.5a48.512 48.512 0 0 1-14.205 34.295 48.512 48.512 0 0 1-32.795 14.182v-96.954Z" className="HOVERABLE_FIELD_ZONE" stroke="#454545" strokeWidth="3" />
          <path id="Ellipse 3_2" d="M792.5 355.977a48.512 48.512 0 0 1-32.795-14.182A48.512 48.512 0 0 1 745.5 307.5a48.512 48.512 0 0 1 14.205-34.295 48.512 48.512 0 0 1 32.795-14.182v96.954Z" className="HOVERABLE_FIELD_ZONE" stroke="#454545" strokeWidth="3" />
        </g>
        <g id="field3" className="group" {...(isDesktop && {onMouseEnter: () => onMouseEnter?.('field_three'), onMouseLeave})} {...(isMobile && {onClick: () => onMobileTouch?.('field_three')})}>
          <rect x="443.5" y="418" width="349" height="172" rx="8.5" fill={colorArea} className="HOVERABLE_AREA" />
          <rect x="443.5" y="418" width="349" height="172" rx="8.5" stroke="#454545" strokeWidth="3" />
          <path id="Rectangle 85_3" fill="#454545" d="M617 416.5h3v175h-3z" />
          <circle id="Ellipse 1_3" cx="618" cy="504.5" r="48.5" stroke="#454545" strokeWidth="3" />
          <path id="Ellipse 2_3" d="M443.5 456.023a48.512 48.512 0 0 1 32.795 14.182A48.512 48.512 0 0 1 490.5 504.5a48.512 48.512 0 0 1-14.205 34.295 48.512 48.512 0 0 1-32.795 14.182v-96.954Z" className="HOVERABLE_FIELD_ZONE" stroke="#454545" strokeWidth="3" />
          <path id="Ellipse 3_3" d="M792.5 552.977a48.512 48.512 0 0 1-32.795-14.182A48.512 48.512 0 0 1 745.5 504.5a48.512 48.512 0 0 1 14.205-34.295 48.512 48.512 0 0 1 32.795-14.182v96.954Z" className="HOVERABLE_FIELD_ZONE" stroke="#454545" strokeWidth="3" />
        </g>
      </g>

      <g id="parking" className="group" {...(isDesktop && {onMouseEnter: () => onMouseEnter?.('parking'), onMouseLeave})} {...(isMobile && {onClick: () => onMobileTouch?.('parking')})}>
        <path transform="translate(0 348)" fill={colorArea} className="HOVERABLE_AREA" d="M0 0h340v201H0z" />
        <g id="Union" fill="#454545">
          <path fillRule="evenodd" clipRule="evenodd" d="m81.757 349.602-.137-1.156c1.025-.107 1.788-.195 2.383-.264 1.055-.121 1.583-.182 2.11-.182.53 0 1.059.061 2.118.182.596.069 1.36.157 2.388.264l-.139 1.156 2.24.998-.35-1.009-1.57-.53.052-.541 1.719.52 1.22 2.345.022 7.609.35.072c1.449.299 2.259.465 1.973 1.509l-2.323-.509.074 21.637-.626 1.846-.87.403c-4.414.064-8.14.064-12.544 0l-.87-.403-.626-1.846.064-21.648-2.356.52c-.29-1.039.519-1.207 1.95-1.505l.416-.087.021-7.598 1.21-2.345 1.72-.52.063.541-1.581.53-.35 1.009 2.25-.998Zm-1.793 30.212 2.367.573a111.27 111.27 0 0 1 7.576 0l2.367-.573-1.486-3.789c-3.12.011-6.218.011-9.338 0l-1.486 3.789Zm-.393-19.537 1.168 3.598c1.316-.626 9.444-.626 10.76 0l1.167-3.598a69.37 69.37 0 0 1-.814-.36v-.001c-1.602-.717-2.78-1.244-4.8-1.134h-1.867c-2.018-.11-3.195.417-4.797 1.134-.259.116-.53.237-.817.361Zm12.342 4.351.892-2.292v11.429l-1.125.594.233-9.731Zm-11.6 0-.89-2.292.01 11.429 1.115.594-.234-9.731Z" />
          <path d="M39 348h-3v42H0v3h36v40h3v-40h30v40h3v-40h30v40h3v-40h30v40h3v-40h30v40h3v-40h30v40h3v-40h30v40h3v-40h30v40h3v-40h30v40h3v-40h37v-3h-37v-42h-3v42h-30v-42h-3v42h-30v-42h-3v42h-30v-42h-3v42h-30v-42h-3v42h-30v-42h-3v42h-30v-42h-3v42H72v-42h-3v42H39v-42Z" />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="m115.063 348.446.138 1.156-2.251.998.351-1.009 1.581-.53-.063-.541-1.719.52-1.211 2.345-.021 7.598-.416.087c-1.431.298-2.241.466-1.95 1.505l2.356-.52-.064 21.648.627 1.846.87.403c4.403.064 8.129.064 12.543 0l.87-.403.626-1.846-.074-21.637 2.324.509c.285-1.044-.525-1.21-1.974-1.509l-.35-.072-.022-7.609-1.22-2.345-1.719-.52-.053.541 1.57.53.351 1.009-2.239-.998.138-1.156a196.981 196.981 0 0 1-2.388-.264c-1.059-.121-1.588-.182-2.117-.182-.528 0-1.056.061-2.111.182-.595.069-1.358.157-2.383.264Zm.711 31.941-2.367-.573 1.486-3.789c3.12.011 6.219.011 9.338 0l1.486 3.789-2.367.573a111.264 111.264 0 0 0-7.576 0Zm-1.592-16.512-1.167-3.598c.287-.124.557-.245.817-.361 1.601-.717 2.778-1.244 4.797-1.134h1.867c2.019-.11 3.197.417 4.799 1.134l.001.001c.258.116.528.236.814.36l-1.168 3.598c-1.316-.626-9.444-.626-10.76 0Zm12.066-1.539-.892 2.292-.233 9.731 1.125-.594v-11.429Zm-13.382 0 .891 2.292.234 9.731-1.114-.594-.011-11.429ZM148.644 349.602l-.138-1.156c1.025-.107 1.788-.195 2.383-.264 1.055-.121 1.583-.182 2.111-.182.529 0 1.058.061 2.117.182.596.069 1.361.157 2.388.264l-.138 1.156 2.239.998-.35-1.009-1.571-.53.053-.541 1.719.52 1.22 2.345.022 7.609.35.072c1.449.299 2.259.465 1.974 1.509l-2.324-.509.074 21.637-.625 1.846-.871.403a409.73 409.73 0 0 1-12.543 0l-.87-.403-.627-1.846.064-21.648-2.356.52c-.29-1.039.519-1.207 1.95-1.505h.003l.413-.087.022-7.598 1.21-2.345 1.719-.52.063.541-1.581.53-.35 1.009 2.25-.998Zm-1.794 30.212 2.367.573c2.918-.086 4.648-.086 7.576 0l2.367-.573-1.486-3.789c-3.119.011-6.218.011-9.338 0l-1.486 3.789Zm-.392-19.537 1.167 3.598c1.316-.626 9.445-.626 10.761 0l1.167-3.598a65.485 65.485 0 0 1-.813-.36l-.002-.001c-1.602-.717-2.779-1.244-4.799-1.134h-1.867c-2.019-.11-3.196.417-4.797 1.134-.259.116-.53.237-.817.361Zm12.342 4.351.891-2.292v11.429l-1.124.594.233-9.731Zm-11.6 0-.891-2.292.011 11.429 1.114.594-.234-9.731ZM181.949 348.446l.138 1.156-2.25.998.35-1.009 1.581-.53-.063-.541-1.719.52-1.21 2.345-.022 7.598-.413.087h-.002c-1.431.298-2.241.466-1.951 1.505l2.356-.52-.063 21.648.626 1.846.87.403c4.404.064 8.129.064 12.543 0l.871-.403.625-1.846-.073-21.637 2.323.509c.285-1.044-.525-1.21-1.973-1.509l-.35-.072-.022-7.609-1.221-2.345-1.719-.52-.052.541 1.57.53.35 1.009-2.239-.998.138-1.156a199.281 199.281 0 0 1-2.388-.264c-1.059-.121-1.588-.182-2.117-.182-.528 0-1.056.061-2.11.182-.596.069-1.359.157-2.384.264Zm.711 31.941-2.367-.573 1.486-3.789c3.121.011 6.219.011 9.339 0l1.486 3.789-2.367.573a111.294 111.294 0 0 0-7.577 0Zm-1.592-16.512-1.167-3.598c.287-.124.558-.245.817-.361 1.601-.717 2.779-1.244 4.797-1.134h1.868c2.019-.11 3.196.417 4.798 1.134l.001.001c.258.115.528.236.814.36l-1.167 3.598c-1.316-.626-9.445-.626-10.761 0Zm12.066-1.539-.891 2.292-.233 9.731 1.124-.594v-11.429Zm-13.381 0 .89 2.292.234 9.731-1.114-.594-.01-11.429ZM81.757 398.602l-.137-1.156c1.025-.107 1.788-.195 2.383-.264 1.055-.121 1.583-.182 2.11-.182.53 0 1.058.061 2.117.182.597.069 1.362.157 2.389.264l-.139 1.156 2.24.998-.35-1.009-1.57-.53.052-.541 1.719.52 1.22 2.345.022 7.609.35.072c1.448.298 2.259.465 1.973 1.509l-2.323-.509.074 21.637-.626 1.846-.87.403c-4.414.064-8.14.064-12.544 0l-.87-.403-.626-1.846.064-21.648-2.356.52c-.29-1.039.519-1.207 1.95-1.505l.416-.087.021-7.598 1.21-2.345 1.72-.52.063.541-1.581.53-.35 1.009 2.25-.998Zm-1.793 30.212 2.367.573a111.27 111.27 0 0 1 7.576 0l2.367-.573-1.486-3.789c-3.12.011-6.218.011-9.338 0l-1.486 3.789Zm-.393-19.537 1.168 3.598c1.316-.626 9.444-.626 10.76 0l1.167-3.598c-.286-.124-.556-.245-.815-.361-1.601-.717-2.779-1.244-4.798-1.134h-1.868c-2.018-.11-3.195.417-4.797 1.134-.259.116-.53.237-.817.361Zm12.342 4.351.892-2.292v11.429l-1.125.594.233-9.731Zm-11.6 0-.89-2.292.01 11.429 1.115.594-.234-9.731ZM115.063 397.446l.138 1.156-2.251.998.351-1.009 1.581-.53-.063-.541-1.719.52-1.211 2.345-.021 7.598c-.144.031-.282.06-.416.087-1.431.298-2.241.466-1.95 1.505l2.356-.52-.064 21.648.627 1.846.87.403c4.403.064 8.129.064 12.543 0l.87-.403.626-1.846-.074-21.637 2.324.509c.285-1.044-.525-1.21-1.974-1.509l-.35-.072-.022-7.609-1.22-2.345-1.719-.52-.053.541 1.57.53.351 1.009-2.239-.998.138-1.156a199.281 199.281 0 0 1-2.388-.264c-1.059-.121-1.588-.182-2.117-.182-.528 0-1.056.061-2.111.182-.595.069-1.358.157-2.383.264Zm.711 31.941-2.367-.573 1.486-3.789c3.12.011 6.219.011 9.338 0l1.486 3.789-2.367.573a111.264 111.264 0 0 0-7.576 0Zm-1.592-16.512-1.167-3.598c.287-.124.557-.245.817-.361 1.601-.717 2.778-1.244 4.797-1.134h1.867c2.019-.11 3.197.417 4.799 1.134.258.116.528.237.815.361l-1.168 3.598c-1.316-.626-9.444-.626-10.76 0Zm12.066-1.539-.892 2.292-.233 9.731 1.125-.594v-11.429Zm-13.382 0 .891 2.292.234 9.731-1.114-.594-.011-11.429Z"
          />
          <path d="M36 464h3v42h30v-42h3v42h30v-42h3v42h30v-42h3v42h30v-42h3v42h30v-42h3v42h30v-42h3v42h30v-42h3v42h30v-42h3v42h37v3h-37v40h-3v-40h-30v40h-3v-40h-30v40h-3v-40h-30v40h-3v-40h-30v40h-3v-40h-30v40h-3v-40h-30v40h-3v-40H72v40h-3v-40H39v40h-3v-40H0v-3h36v-42Z" />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="m247.757 465.602-.137-1.156c1.025-.107 1.788-.195 2.383-.264 1.055-.121 1.583-.182 2.111-.182.529 0 1.058.061 2.117.182.596.069 1.36.157 2.388.264l-.139 1.156 2.239.998-.35-1.009-1.57-.53.053-.541 1.719.52 1.22 2.345.022 7.609.35.072c1.449.299 2.259.465 1.973 1.509l-2.323-.509.074 21.637-.626 1.846-.87.403c-4.414.064-8.14.064-12.543 0l-.87-.403-.627-1.846.064-21.648-2.356.52c-.291-1.039.519-1.207 1.95-1.505l.416-.087.021-7.598 1.211-2.345 1.719-.52.063.541-1.582.53-.35 1.009 2.25-.998Zm-1.793 30.212 2.367.573c2.917-.086 4.647-.086 7.576 0l2.367-.573-1.486-3.789c-3.119.011-6.218.011-9.338 0l-1.486 3.789Zm-.393-19.537 1.168 3.598c1.316-.626 9.444-.626 10.76 0l1.167-3.598a43.876 43.876 0 0 1-.347-.152l-.145-.064-.14-.063-.183-.082c-1.601-.717-2.779-1.244-4.798-1.134h-1.868c-2.018-.11-3.195.417-4.797 1.134-.259.116-.53.237-.817.361Zm12.342 4.351.892-2.292v11.429l-1.125.594.233-9.731Zm-11.6 0-.89-2.292.011 11.429 1.114.594-.235-9.731ZM281.063 464.446l.138 1.156-2.251.998.351-1.009 1.581-.53-.063-.541-1.719.52-1.211 2.345-.021 7.598-.416.087c-1.431.298-2.241.466-1.95 1.505l2.356-.52-.064 21.648.627 1.846.87.403c4.403.064 8.129.064 12.543 0l.87-.403.626-1.846-.074-21.637 2.324.509c.285-1.044-.525-1.21-1.974-1.509l-.35-.072-.022-7.609-1.22-2.345-1.719-.52-.053.541 1.57.53.351 1.009-2.24-.998.139-1.156a196.981 196.981 0 0 1-2.388-.264c-1.059-.121-1.588-.182-2.117-.182-.528 0-1.056.061-2.111.182-.595.069-1.358.157-2.383.264Zm.711 31.941-2.367-.573 1.486-3.789c3.12.011 6.219.011 9.338 0l1.486 3.789-2.367.573a111.264 111.264 0 0 0-7.576 0Zm-1.592-16.512-1.167-3.598c.286-.124.557-.245.816-.361 1.602-.717 2.779-1.244 4.798-1.134h1.867c2.019-.11 3.197.417 4.799 1.134l.001.001c.258.116.528.236.814.36l-1.168 3.598c-1.316-.626-9.444-.626-10.76 0Zm12.066-1.539-.892 2.292-.233 9.731 1.125-.594v-11.429Zm-13.382 0 .891 2.292.234 9.731-1.114-.594-.011-11.429ZM214.757 514.602l-.137-1.156c1.025-.107 1.788-.195 2.383-.264 1.054-.121 1.583-.182 2.111-.182.529 0 1.057.061 2.116.182.597.069 1.362.157 2.389.264l-.139 1.156 2.239.998-.35-1.009-1.57-.53.053-.541 1.719.52 1.22 2.345.022 7.609.131.027.219.045c1.449.299 2.259.465 1.973 1.509l-2.323-.509.074 21.637-.626 1.846-.87.403c-4.414.064-8.14.064-12.543 0l-.87-.403-.627-1.846.064-21.648-2.356.52c-.291-1.039.519-1.207 1.95-1.505l.218-.045.198-.042.021-7.598 1.211-2.345 1.719-.52.063.541-1.582.53-.35 1.009 2.25-.998Zm-1.793 30.212 2.367.573c2.917-.086 4.647-.086 7.576 0l2.367-.573-1.486-3.789c-3.119.011-6.218.011-9.338 0l-1.486 3.789Zm-.393-19.537 1.168 3.598c1.316-.626 9.444-.626 10.76 0l1.167-3.598c-.286-.124-.556-.245-.815-.361-1.601-.717-2.779-1.244-4.798-1.134h-1.868c-2.018-.11-3.195.417-4.797 1.134-.259.116-.53.237-.817.361Zm12.342 4.351.892-2.292v11.429l-1.125.594.233-9.731Zm-11.6 0-.89-2.292.011 11.429 1.114.594-.235-9.731ZM248.063 513.446l.138 1.156-2.251.998.351-1.009 1.581-.53-.063-.541-1.719.52-1.211 2.345-.021 7.598-.416.087c-1.431.298-2.241.466-1.95 1.505l2.356-.52-.064 21.648.627 1.846.87.403c4.403.064 8.129.064 12.543 0l.87-.403.626-1.846-.074-21.637 2.324.509c.285-1.044-.525-1.21-1.974-1.509l-.35-.072-.022-7.609-1.22-2.345-1.719-.52-.053.541 1.57.53.351 1.009-2.24-.998.139-1.156a196.981 196.981 0 0 1-2.388-.264c-1.059-.121-1.588-.182-2.117-.182-.528 0-1.056.061-2.11.182-.596.069-1.359.157-2.384.264Zm.711 31.941-2.367-.573 1.486-3.789c3.12.011 6.219.011 9.338 0l1.486 3.789-2.367.573a111.264 111.264 0 0 0-7.576 0Zm-1.592-16.512-1.167-3.598c.285-.124.555-.244.813-.36l.003-.001c1.602-.717 2.779-1.244 4.798-1.134h1.867c2.019-.11 3.197.417 4.799 1.134.258.116.528.237.815.361l-1.168 3.598c-1.316-.626-9.444-.626-10.76 0Zm12.066-1.539-.892 2.292-.233 9.731 1.125-.594v-11.429Zm-13.382 0 .891 2.292.234 9.731-1.114-.594-.011-11.429ZM115.757 514.602l-.137-1.156c1.025-.107 1.788-.195 2.383-.264 1.054-.121 1.583-.182 2.111-.182.529 0 1.058.061 2.117.182.596.069 1.361.157 2.388.264l-.139 1.156 2.239.998-.35-1.009-1.57-.53.053-.541 1.719.52 1.22 2.345.022 7.609.35.072c1.449.299 2.259.465 1.973 1.509l-2.323-.509.074 21.637-.626 1.846-.87.403c-4.414.064-8.14.064-12.543 0l-.87-.403-.627-1.846.064-21.648-2.356.52c-.291-1.039.519-1.207 1.95-1.505l.416-.087.021-7.598 1.211-2.345 1.719-.52.063.541-1.582.53-.35 1.009 2.25-.998Zm-1.793 30.212 2.367.573c2.917-.086 4.647-.086 7.576 0l2.367-.573-1.486-3.789c-3.119.011-6.218.011-9.338 0l-1.486 3.789Zm-.393-19.537 1.168 3.598c1.316-.626 9.444-.626 10.76 0l1.167-3.598c-.286-.124-.556-.245-.815-.361-1.601-.717-2.779-1.244-4.798-1.134h-1.868c-2.018-.11-3.195.417-4.797 1.134l-.002.001c-.259.115-.528.236-.815.36Zm12.342 4.351.892-2.292v11.429l-1.125.594.233-9.731Zm-11.6 0-.89-2.292.011 11.429 1.114.594-.235-9.731ZM48.62 513.446l.137 1.156-2.25.998.35-1.009 1.582-.53-.063-.541-1.72.52-1.21 2.345-.021 7.598-.416.087c-1.431.298-2.24.466-1.95 1.505l2.356-.52-.064 21.648.627 1.846.87.403c4.403.064 8.129.064 12.543 0l.87-.403.626-1.846-.074-21.637 2.323.509c.286-1.044-.524-1.21-1.973-1.509h-.002a91.862 91.862 0 0 1-.348-.072l-.022-7.609-1.22-2.345-1.72-.52-.052.541 1.57.53.35 1.009-2.239-.998.139-1.156a197.152 197.152 0 0 1-2.388-.264c-1.06-.121-1.588-.182-2.117-.182-.528 0-1.056.061-2.111.182-.595.069-1.358.157-2.383.264Zm.71 31.941-2.366-.573 1.486-3.789c3.12.011 6.219.011 9.338 0l1.486 3.789-2.367.573a111.27 111.27 0 0 0-7.576 0Zm-1.591-16.512-1.168-3.598c.287-.124.558-.245.817-.361 1.601-.717 2.779-1.244 4.797-1.134h1.868c2.02-.11 3.197.417 4.798 1.134.26.116.53.237.815.361l-1.167 3.598c-1.316-.626-9.444-.626-10.76 0Zm12.066-1.539-.892 2.292-.233 9.731 1.125-.594v-11.429Zm-13.382 0 .89 2.292.235 9.731-1.114-.594-.011-11.429Z"
          />
        </g>
      </g>

      <g data-path="mini-room">
        <rect x="210.5" y="1.5" width="188" height="265" rx="13.5" fill="#fff" />
        <rect x="210.5" y="1.5" width="188" height="265" rx="13.5" stroke="#454545" strokeWidth="3" />
        <path id="Rectangle 87" d="M350 209.5h48.5V253c0 7.456-6.044 13.5-13.5 13.5h-43.5V218a8.5 8.5 0 0 1 8.5-8.5Z" stroke="#454545" strokeWidth="3" />
        <path id="Rectangle 97" d="M348.5 159.5h50v25H357a8.5 8.5 0 0 1-8.5-8.5v-16.5Z" stroke="#454545" strokeWidth="3" />
        <path id="Rectangle 86" stroke="#454545" strokeWidth="3" d="M398.5 184.5h25v25h-25z" />
      </g>

      <g id="toilets" className="group" {...(isDesktop && {onMouseEnter: () => onMouseEnter?.('toilets'), onMouseLeave})} {...(isMobile && {onClick: () => onMobileTouch?.('toilets')})}>
        <path transform="translate(301 24)" d="M0 0h99v42H0z" fill={colorArea} className="HOVERABLE_AREA" />
        <g id="Frame 213">
          <path stroke="#454545" strokeWidth="3" d="M302.5 25.5h48v39h-48z" />
          <g id="Group">
            <g id="Group_2">
              <g id="Group_3" fill="#454545">
                <path id="Vector" d="M319.706 41.791h-.319a3.015 3.015 0 0 0-3.005 3.005v2.962c0 .469.383.852.852.852h.703v3.708c0 .66.533 1.193 1.194 1.193h.81c.66 0 1.193-.532 1.193-1.193V48.61h.703a.855.855 0 0 0 .853-.852v-2.962a2.97 2.97 0 0 0-2.984-3.005Z" />
                <path id="Vector_2" d="M319.558 41.173a2.344 2.344 0 1 0 0-4.687 2.344 2.344 0 0 0 0 4.688Z" />
                <path id="Vector_3" d="m336.583 49.292-1.556-5.881a2.162 2.162 0 0 0-2.088-1.62c-.98 0-1.854.66-2.088 1.62l-1.556 5.881a.982.982 0 0 0 .959 1.236h1.108l.597 2.43a.749.749 0 0 0 .724.575h.554a.75.75 0 0 0 .725-.576l.575-2.429h1.108a.979.979 0 0 0 .938-1.236Z" />
                <path id="Vector_4" d="M332.94 41.173a2.344 2.344 0 1 0 0-4.688 2.344 2.344 0 0 0 0 4.688Z" />
                <path id="Rectangle 99" d="M325.417 36.467h1.664v17.052h-1.664z" />
              </g>
            </g>
          </g>
        </g>
        <g id="Frame 214">
          <path stroke="#454545" strokeWidth="3" d="M350.5 25.5h48v39h-48z" />
          <g id="Group_4">
            <g id="Group_5">
              <g id="Group_6" fill="#454545">
                <path id="Vector_5" d="M367.706 41.791h-.319a3.015 3.015 0 0 0-3.005 3.005v2.962c0 .469.383.852.852.852h.703v3.708c0 .66.533 1.193 1.194 1.193h.81c.66 0 1.193-.532 1.193-1.193V48.61h.703a.855.855 0 0 0 .853-.852v-2.962a2.97 2.97 0 0 0-2.984-3.005Z" />
                <path id="Vector_6" d="M367.558 41.173a2.344 2.344 0 1 0 0-4.687 2.344 2.344 0 0 0 0 4.688Z" />
                <path id="Vector_7" d="m384.583 49.292-1.556-5.881a2.162 2.162 0 0 0-2.088-1.62c-.98 0-1.854.66-2.088 1.62l-1.556 5.881a.982.982 0 0 0 .959 1.236h1.108l.597 2.43a.749.749 0 0 0 .724.575h.554a.75.75 0 0 0 .725-.576l.575-2.429h1.108a.979.979 0 0 0 .938-1.236Z" />
                <path id="Vector_8" d="M380.94 41.173a2.344 2.344 0 1 0 0-4.688 2.344 2.344 0 0 0 0 4.688Z" />
                <path id="Rectangle 99_2" d="M373.417 36.467h1.664v17.052h-1.664z" />
              </g>
            </g>
          </g>
        </g>
      </g>

      <g id="canteen">
        <path d="M302.5 63.5h96v96H311a8.5 8.5 0 0 1-8.5-8.5V63.5Z" fill="#fff" />
        <path d="M302.5 63.5h96v96H311a8.5 8.5 0 0 1-8.5-8.5V63.5Z" stroke="#454545" strokeWidth="3" />
      </g>

      <g id="showers" className="group" {...(isDesktop && {onMouseEnter: () => onMouseEnter?.('showers'), onMouseLeave})} {...(isMobile && {onClick: () => onMobileTouch?.('showers')})}>
        <path transform="translate(209)" d="M0 0h47.163v268H0z" fill={colorArea} className="HOVERABLE_AREA" />
        <g id="Frame 200">
          <path stroke="#454545" strokeWidth="2.996" d="M210.498 1.498h44.167v44.167h-44.167z" />
          <path id="Vector_10" fillRule="evenodd" clipRule="evenodd" d="M222.627 31.084c3.018 0 5.482-2.341 5.482-5.342 0-2.16-3.942-7.382-5.359-9.662-1.478 2.52-5.605 7.502-5.605 9.662 0 3.001 2.463 5.342 5.482 5.342Z" fill="#454545" />
          <path id="Vector_11" d="M248.017 28.132c0 .54-.152 1.066-.434 1.52-.282.453-.699.84-1.225 1.074a2.83 2.83 0 0 1-1.16.241h-10.27a2.816 2.816 0 0 1-1.16-.242 2.734 2.734 0 0 1-.898-.645 2.873 2.873 0 0 1-.761-1.948 2.74 2.74 0 0 1 .254-1.161c.172-.374.439-.721.788-1.005l5.593-4.555-.263-.213a2.818 2.818 0 0 1-.778-1 2.833 2.833 0 0 1-.001-2.37 2.818 2.818 0 0 1 4.335-1.001l.827.677-1.053 1.294-.828-.676a1.142 1.142 0 0 0-1.45 0 1.14 1.14 0 0 0-.422.893 1.142 1.142 0 0 0 .423.89l1.056.86 6.386 5.201c.349.284.614.63.788 1.005.173.375.253.772.253 1.161Zm-1.751.438c.056-.14.084-.29.084-.438 0-.16-.033-.315-.099-.46a1.156 1.156 0 0 0-.328-.412l-5.86-4.773-5.859 4.773a1.086 1.086 0 0 0-.427.872c-.001.221.064.45.183.639a1.1 1.1 0 0 0 .968.528h10.27c.142 0 .264-.02.375-.057.11-.035.208-.087.296-.15.177-.127.316-.312.397-.522Z" fill="#454545" />
        </g>
        <g id="Frame 206">
          <path stroke="#454545" strokeWidth="2.996" d="M210.498 45.665h44.167v44.167h-44.167z" />
          <path id="Vector_12" fillRule="evenodd" clipRule="evenodd" d="M222.627 75.251c3.018 0 5.482-2.34 5.482-5.341 0-2.16-3.942-7.382-5.359-9.663-1.478 2.52-5.605 7.502-5.605 9.663 0 3 2.463 5.341 5.482 5.341Z" fill="#454545" />
          <path id="Vector_13" d="M248.017 72.3c0 .54-.152 1.065-.434 1.519-.282.454-.699.84-1.225 1.074a2.83 2.83 0 0 1-1.16.242h-10.27a2.816 2.816 0 0 1-1.16-.243 2.733 2.733 0 0 1-.898-.645 2.873 2.873 0 0 1-.761-1.948 2.74 2.74 0 0 1 .254-1.16c.172-.375.439-.722.788-1.005l5.593-4.555-.263-.214a2.818 2.818 0 0 1-1.038-2.183 2.81 2.81 0 0 1 1.038-2.187 2.818 2.818 0 0 1 3.556.001l.827.675-1.053 1.294-.828-.675a1.142 1.142 0 0 0-1.45 0 1.14 1.14 0 0 0-.422.892 1.141 1.141 0 0 0 .423.89l1.056.86 6.386 5.202c.349.283.614.63.788 1.004.173.375.253.772.253 1.161Zm-1.751.438c.056-.14.084-.29.084-.439 0-.159-.033-.315-.099-.46a1.156 1.156 0 0 0-.328-.412l-5.86-4.773-5.859 4.773a1.086 1.086 0 0 0-.427.872c-.001.222.064.45.183.64a1.1 1.1 0 0 0 .968.528h10.27c.142 0 .264-.021.375-.057.11-.036.208-.087.296-.15.177-.127.316-.312.397-.523Z" fill="#454545" />
        </g>
        <g id="Frame 207">
          <path stroke="#454545" strokeWidth="2.996" d="M210.498 89.833h44.167V134h-44.167z" />
          <path id="Vector_14" fillRule="evenodd" clipRule="evenodd" d="M222.627 119.419c3.018 0 5.482-2.341 5.482-5.342 0-2.16-3.942-7.382-5.359-9.662-1.478 2.52-5.605 7.502-5.605 9.662 0 3.001 2.463 5.342 5.482 5.342Z" fill="#454545" />
          <path id="Vector_15" d="M248.017 116.467c0 .541-.152 1.066-.434 1.519a2.78 2.78 0 0 1-1.225 1.075 2.826 2.826 0 0 1-1.16.241h-10.27a2.814 2.814 0 0 1-1.16-.242 2.748 2.748 0 0 1-.898-.645 2.873 2.873 0 0 1-.761-1.948c-.001-.389.08-.787.254-1.161.172-.374.439-.721.788-1.005l5.593-4.555-.263-.213a2.817 2.817 0 1 1 3.556-4.369l.827.675-1.053 1.294-.828-.676a1.145 1.145 0 0 0-1.45 0 1.139 1.139 0 0 0-.422.892 1.136 1.136 0 0 0 .423.89l1.056.86 6.386 5.202c.349.284.614.631.788 1.005.173.374.253.772.253 1.161Zm-1.751.438c.056-.14.084-.29.084-.438 0-.159-.033-.315-.099-.46a1.158 1.158 0 0 0-.328-.412l-5.86-4.773-5.859 4.773c-.159.13-.261.267-.328.413-.067.144-.099.3-.099.459-.001.221.064.449.183.639a1.099 1.099 0 0 0 .968.528h10.27c.142 0 .264-.021.375-.057.11-.035.208-.087.296-.15.177-.127.316-.312.397-.522Z" fill="#454545" />
        </g>
        <g id="Frame 208">
          <path stroke="#454545" strokeWidth="2.996" d="M210.498 134h44.167v44.167h-44.167z" />
          <path id="Vector_16" fillRule="evenodd" clipRule="evenodd" d="M222.627 163.585c3.018 0 5.482-2.341 5.482-5.341 0-2.161-3.942-7.382-5.359-9.663-1.478 2.521-5.605 7.502-5.605 9.663 0 3 2.463 5.341 5.482 5.341Z" fill="#454545" />
          <path id="Vector_17" d="M248.017 160.634c0 .541-.152 1.066-.434 1.52a2.772 2.772 0 0 1-2.385 1.316h-10.27a2.814 2.814 0 0 1-1.16-.243 2.733 2.733 0 0 1-.898-.645 2.873 2.873 0 0 1-.761-1.948c-.001-.389.08-.786.254-1.161.172-.374.439-.721.788-1.004l5.593-4.555-.263-.214a2.817 2.817 0 1 1 3.556-4.369l.827.675-1.053 1.294-.828-.675a1.139 1.139 0 0 0-.724-.258 1.144 1.144 0 0 0-1.043 1.633c.07.151.174.289.318.407l1.056.86 6.386 5.202c.349.283.614.63.788 1.004.173.375.253.772.253 1.161Zm-1.751.438c.056-.14.084-.29.084-.438a1.099 1.099 0 0 0-.427-.872l-5.86-4.773-5.859 4.773a1.087 1.087 0 0 0-.427.872c-.001.222.064.45.183.639.118.191.284.34.487.432.136.06.291.097.481.097h10.27c.142 0 .264-.021.375-.057.11-.036.208-.087.296-.15.177-.127.316-.312.397-.523Z" fill="#454545" />
        </g>
        <g id="Frame 209">
          <path stroke="#454545" strokeWidth="2.996" d="M210.498 178.168h44.167v44.167h-44.167z" />
          <path id="Vector_18" fillRule="evenodd" clipRule="evenodd" d="M222.627 207.753c3.018 0 5.482-2.341 5.482-5.341 0-2.161-3.942-7.382-5.359-9.663-1.478 2.521-5.605 7.502-5.605 9.663 0 3 2.463 5.341 5.482 5.341Z" fill="#454545" />
          <path id="Vector_19" d="M248.017 204.802c0 .541-.152 1.066-.434 1.52a2.778 2.778 0 0 1-1.225 1.074 2.827 2.827 0 0 1-1.16.242h-10.27a2.814 2.814 0 0 1-1.16-.243 2.733 2.733 0 0 1-.898-.645 2.873 2.873 0 0 1-.761-1.948c-.001-.389.08-.786.254-1.161.172-.374.439-.721.788-1.004l5.593-4.555-.263-.214a2.817 2.817 0 1 1 3.556-4.369l.827.675-1.053 1.294-.828-.675a1.139 1.139 0 0 0-.724-.258 1.144 1.144 0 0 0-1.043 1.633c.07.151.174.289.318.407l1.056.86 6.386 5.202c.349.283.614.63.788 1.004.173.375.253.772.253 1.161Zm-1.751.438c.056-.14.084-.29.084-.438a1.099 1.099 0 0 0-.427-.872l-5.86-4.773-5.859 4.773a1.087 1.087 0 0 0-.427.872c-.001.222.064.45.183.639.118.191.284.34.487.432.136.06.291.097.481.097h10.27c.142 0 .264-.021.375-.057.11-.036.208-.087.296-.15.177-.127.316-.312.397-.523Z" fill="#454545" />
        </g>
        <g id="Frame 210">
          <path stroke="#454545" strokeWidth="2.996" d="M210.498 222.335h44.167v44.167h-44.167z" />
          <path id="Vector_20" fillRule="evenodd" clipRule="evenodd" d="M222.627 251.92c3.018 0 5.482-2.341 5.482-5.341 0-2.161-3.942-7.382-5.359-9.663-1.478 2.521-5.605 7.502-5.605 9.663 0 3 2.463 5.341 5.482 5.341Z" fill="#454545" />
          <path id="Vector_21" d="M248.017 248.969c0 .541-.152 1.066-.434 1.52a2.778 2.778 0 0 1-1.225 1.074 2.827 2.827 0 0 1-1.16.242h-10.27a2.814 2.814 0 0 1-1.16-.243 2.733 2.733 0 0 1-.898-.645 2.873 2.873 0 0 1-.761-1.948c-.001-.389.08-.786.254-1.161.172-.374.439-.721.788-1.004l5.593-4.555-.263-.214a2.817 2.817 0 1 1 3.556-4.369l.827.675-1.053 1.294-.828-.675a1.139 1.139 0 0 0-.724-.258 1.144 1.144 0 0 0-1.043 1.633c.07.151.174.289.318.407l1.056.86 6.386 5.202c.349.283.614.63.788 1.004.173.375.253.772.253 1.161Zm-1.751.438c.056-.14.084-.29.084-.438a1.099 1.099 0 0 0-.427-.872l-5.86-4.773-5.859 4.773a1.087 1.087 0 0 0-.427.872c-.001.222.064.45.183.639.118.191.284.34.487.432.136.06.291.097.481.097h10.27c.142 0 .264-.021.375-.057.11-.036.208-.087.296-.15.177-.127.316-.312.397-.523Z" fill="#454545" />
        </g>
      </g>

      {/* mobile */}

      <g id="arrow" fill="#D9D9D9" className="invisible sm:visible">
        <path d="M170 133.5 144 184V83l26 50.5ZM127 115.162h17v37h-17v-37Z" />
      </g>
      <g id="touch_buttons" className="invisible sm:visible">
        <g id="toilets_2" {...(isMobile && {onClick: () => onMobileTouch && onMobileTouch('toilets')})}>
          <path fill="#fff" d="M30.5 53.5h67v67h-67z" />
          <path stroke="#454545" strokeWidth="3" d="M30.5 53.5h67v67h-67z" />
          <g id="Group_7" fill="#454545">
            <path id="Vector_21" d="M52.25 81.45h-.553c-2.838 0-5.197 2.322-5.197 5.197v5.123c0 .81.663 1.474 1.474 1.474h1.217v6.413a2.06 2.06 0 0 0 2.063 2.064h1.401a2.06 2.06 0 0 0 2.064-2.064v-6.413h1.216c.811 0 1.474-.663 1.474-1.474v-5.123c.037-2.875-2.285-5.197-5.16-5.197Z" />
            <path id="Vector_22" d="M51.994 80.382a4.054 4.054 0 1 0 0-8.109 4.054 4.054 0 0 0 0 8.109Z" />
            <path id="Vector_23" d="M81.44 94.424 78.748 84.25c-.443-1.658-1.917-2.8-3.612-2.8-1.696 0-3.207 1.142-3.612 2.8l-2.69 10.173c-.295 1.068.515 2.137 1.658 2.137h1.916l1.032 4.202c.148.59.664.995 1.254.995h.958c.59 0 1.105-.405 1.253-.995l.995-4.202h1.916c1.106 0 1.917-1.069 1.622-2.137Z" />
            <path id="Vector_24" d="M75.136 80.382a4.054 4.054 0 1 0 0-8.109 4.054 4.054 0 0 0 0 8.109Z" />
            <path id="Rectangle 99_3" d="M62.127 72.242h2.878v29.491h-2.878z" />
          </g>
        </g>
        <g id="showers_2" {...(isMobile && {onClick: () => onMobileTouch && onMobileTouch('showers')})}>
          <path fill="#fff" d="M30.5 146.833h67v67h-67z" />
          <path stroke="#454545" strokeWidth="3" d="M30.5 146.833h67v67h-67z" />
          <path id="Vector_25" d="M65.607 187.587a4.58 4.58 0 0 1-.693 2.422 4.415 4.415 0 0 1-1.951 1.713 4.5 4.5 0 0 1-1.85.385H44.74a4.471 4.471 0 0 1-1.85-.387 4.354 4.354 0 0 1-1.432-1.028 4.584 4.584 0 0 1-1.212-3.105 4.374 4.374 0 0 1 .404-1.851c.275-.596.7-1.149 1.256-1.602l8.916-7.261-.418-.34a4.478 4.478 0 0 1-1.655-3.481c0-.644.136-1.289.413-1.889a4.49 4.49 0 0 1 6.91-1.596l1.318 1.077-1.678 2.062-1.32-1.076a1.817 1.817 0 0 0-1.154-.411 1.822 1.822 0 0 0-1.662 1.06 1.846 1.846 0 0 0 0 1.543c.111.241.276.461.507.649l1.683 1.371 10.18 8.292c.556.453.98 1.006 1.256 1.602.276.597.404 1.23.404 1.851Zm-2.791.698c.088-.223.133-.463.133-.698 0-.254-.052-.502-.158-.733a1.844 1.844 0 0 0-.523-.658l-9.341-7.609-9.341 7.61a1.736 1.736 0 0 0-.68 1.39c-.003.353.102.716.291 1.018a1.746 1.746 0 0 0 1.544.843h16.371c.227 0 .422-.034.6-.091.174-.057.33-.138.47-.239.283-.203.504-.497.634-.833Z" fill="#454545" />
          <path id="Vector_26" fillRule="evenodd" clipRule="evenodd" d="M79.013 192.292c4.812 0 8.74-3.731 8.74-8.515 0-3.444-6.285-11.768-8.543-15.404-2.357 4.018-8.937 11.96-8.937 15.404 0 4.784 3.928 8.515 8.74 8.515Z" fill="#454545" />
        </g>
      </g>
    </svg>
  )
}
